(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[247],{9671:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login/FormLogin",function(){return t(1686)}])},1686:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var n=t(5893),s=t(5675),a=t(7536),l={src:"/_next/static/media/onlyLogo.7b59a264.png",height:97,width:97,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAt0lEQVR42mPgMXzGyWP0QhSIRYBYiMfolQwDEPAYv9XmMX7fxwAkzgHxViDeAsQHgbifx+i1JpD+DsS7GIAqD3KobWbhMXrJCtH5Rh4o8R+IVzNABZYCjY0HClwE6tQF0n94jd+vYQACmIId3Pr3BIESV6A6ZwMVuPMaf4iGKdiKUPwOLMhr8qECiEtggneAOJHH5EMcUHcQEAcC8V6gCdkQBUYva4G4H4onAXEfGBu/UWVgYGAAAPuRVeTPCOFFAAAAAElFTkSuQmCC"},o=t(7041),i=t(9669),c=t.n(i),u=t(3573),d=t(1894),m=t(6245),g=t(1163),x=t(7294);function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}var f=function(){var e=(0,d.I0)(),r=(0,a.cI)(),t=r.register,i=r.handleSubmit,p=r.formState.errors,f=(0,x.useState)(!1),w=f[0],y=f[1],b=(0,x.useState)(""),A=b[0],N=b[1];return(0,n.jsxs)(n.Fragment,{children:["\xe9",(0,n.jsxs)("div",{className:" w-full md:ml-5 dark:bg-gray-800 rounded-xl h-[80vh] md:h-auto px-2 md:px-0 md:w-1/2",children:[(0,n.jsx)("div",{className:"flex justify-center items-container",children:(0,n.jsx)(s.default,{src:l,alt:""})}),(0,n.jsx)("p",{className:"mt-10 text-2xl text-center text-gray-600 dark:text-white",children:"WELCOME BACK !"}),(0,n.jsx)("p",{className:"mt-2 text-xl text-center text-gray-400 ",children:"please sign in your credentials to continue"}),A&&(0,n.jsx)("div",{className:"mt-4 text-center text-red-500",children:A}),(0,n.jsxs)("form",{className:"w-full mt-5 space-y-7 ",onSubmit:i((function(r){var t=c().post("https://tick-account.herokuapp.com/api/auth/login",r);y(!0),t.then((function(r){(0,o.setCookies)("token",r.data.user.accessToken),e((0,u.NS)(r.data.user)),function(e){var r=(0,o.getCookie)("token");"HQ-ADMIN"!==e.userType&&"BranchAdmin"!==e.userType||g.default.replace("/wallet"),null==r&&g.default.replace("/login");var t=(0,m.Z)(r);if("BranchAdmin"!==e.userType&&0==t.roles.length)return alert("You are not authorized to access this page");var n=t.roles[0].path.toLowerCase();g.default.replace(n)}(r.data.user),y(!1)})).catch((function(e){y(!1);"Network Error"===e.message&&N("please check your internet connection"),e.response&&N(e.response.data.message),console.log("")}))})),children:[(0,n.jsxs)("div",{className:"flex flex-col mx-2 space-y-3",children:[(0,n.jsx)("label",{className:"font-medium text-gray-500 text-md",htmlFor:"userName",children:"userName"}),(0,n.jsx)("input",h({className:"w-full px-3 py-3 text-sm leading-none text-gray-800 placeholder-gray-500 bg-white border\n               border-gray-200 rounded focus:ring-2 focus:ring-gray-400 focus:outline-none dark:bg-gray-900 dark:border-gray-700 \n                 ".concat(p.userName?"ring-2 ring-red-400":null),placeholder:"userName"},t("userName",{required:!0}))),p.userName&&(0,n.jsx)("span",{className:"py-2 text-sm text-red-400",children:"user name is required"})]}),(0,n.jsxs)("div",{className:"flex flex-col mx-2 space-y-3",children:[(0,n.jsx)("label",{className:"font-medium text-gray-500 text-md",htmlFor:"userName",children:"password"}),(0,n.jsx)("input",h({type:"password"},t("password",{required:!0}),{className:"w-full px-3 py-3 text-sm leading-none text-gray-800 placeholder-gray-500 bg-white border\n              border-gray-200 rounded focus:ring-2 focus:ring-gray-400 focus:outline-none dark:bg-gray-900 dark:border-gray-700 \n                ".concat(p.password?"ring-2 ring-red-400":null),placeholder:"password"})),p.password&&(0,n.jsx)("p",{className:"text-sm text-red-400",children:"This field is required"})]}),w?(0,n.jsxs)("button",{class:"flex items-center w-full rounded-lg text-center justify-center text-2xl bg-green-700 px-4 py-2 text-white",disabled:!0,children:[(0,n.jsxs)("svg",{class:"mr-3 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,n.jsx)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,n.jsx)("span",{class:"font-medium",children:" Processing... "})]}):(0,n.jsxs)("button",{className:"w-full px-10 py-2 text-2xl text-white duration-300 ease-in bg-blue-600 rounded-md hover:bg-blue-500 hover:drop-shadow-md",type:"submit",children:[w&&(0,n.jsx)("span",{className:"loading",children:"loafing"}),"Login"]})]})]})]})}}},function(e){e.O(0,[536,669,774,888,179],(function(){return r=9671,e(e.s=r);var r}));var r=e.O();_N_E=r}]);