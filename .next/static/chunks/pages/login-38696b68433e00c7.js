(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4917:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(8686)}])},1686:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(5893),n=r(5675),a=r(7536),l={src:"/_next/static/media/onlyLogo.7b59a264.png",height:97,width:97,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAt0lEQVR42mPgMXzGyWP0QhSIRYBYiMfolQwDEPAYv9XmMX7fxwAkzgHxViDeAsQHgbifx+i1JpD+DsS7GIAqD3KobWbhMXrJCtH5Rh4o8R+IVzNABZYCjY0HClwE6tQF0n94jd+vYQACmIId3Pr3BIESV6A6ZwMVuPMaf4iGKdiKUPwOLMhr8qECiEtggneAOJHH5EMcUHcQEAcC8V6gCdkQBUYva4G4H4onAXEfGBu/UWVgYGAAAPuRVeTPCOFFAAAAAElFTkSuQmCC"},i=r(7041),o=r(9669),c=r.n(o),d=r(3573),u=r(1894),m=r(6245),x=r(1163),g=r(7294);function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){h(e,t,r[t])}))}return e}var p=function(){var e=(0,u.I0)(),t=(0,a.cI)(),r=t.register,o=t.handleSubmit,h=t.formState.errors,p=(0,g.useState)(!1),b=p[0],w=p[1],y=(0,g.useState)(""),j=y[0],A=y[1];return(0,s.jsxs)(s.Fragment,{children:["\xe9",(0,s.jsxs)("div",{className:" w-full md:ml-5 dark:bg-gray-800 rounded-xl h-[80vh] md:h-auto px-2 md:px-0 md:w-1/2",children:[(0,s.jsx)("div",{className:"flex justify-center items-container",children:(0,s.jsx)(n.default,{src:l,alt:""})}),(0,s.jsx)("p",{className:"mt-10 text-2xl text-center text-gray-600 dark:text-white",children:"WELCOME BACK !"}),(0,s.jsx)("p",{className:"mt-2 text-xl text-center text-gray-400 ",children:"please sign in your credentials to continue"}),j&&(0,s.jsx)("div",{className:"mt-4 text-center text-red-500",children:j}),(0,s.jsxs)("form",{className:"w-full mt-5 space-y-7 ",onSubmit:o((function(t){var r=c().post("https://tick-account.herokuapp.com/api/auth/login",t);w(!0),r.then((function(t){(0,i.setCookies)("token",t.data.user.accessToken),e((0,d.NS)(t.data.user)),function(e){var t=(0,i.getCookie)("token");"HQ-ADMIN"!==e.userType&&"BranchAdmin"!==e.userType||x.default.replace("/wallet"),null==t&&x.default.replace("/login");var r=(0,m.Z)(t);if("BranchAdmin"!==e.userType&&0==r.roles.length)return alert("You are not authorized to access this page");var s=r.roles[0].path.toLowerCase();x.default.replace(s)}(t.data.user),w(!1)})).catch((function(e){w(!1);"Network Error"===e.message&&A("please check your internet connection"),e.response&&A(e.response.data.message),console.log("")}))})),children:[(0,s.jsxs)("div",{className:"flex flex-col mx-2 space-y-3",children:[(0,s.jsx)("label",{className:"font-medium text-gray-500 text-md",htmlFor:"userName",children:"userName"}),(0,s.jsx)("input",f({className:"w-full px-3 py-3 text-sm leading-none text-gray-800 placeholder-gray-500 bg-white border\n               border-gray-200 rounded focus:ring-2 focus:ring-gray-400 focus:outline-none dark:bg-gray-900 dark:border-gray-700 \n                 ".concat(h.userName?"ring-2 ring-red-400":null),placeholder:"userName"},r("userName",{required:!0}))),h.userName&&(0,s.jsx)("span",{className:"py-2 text-sm text-red-400",children:"user name is required"})]}),(0,s.jsxs)("div",{className:"flex flex-col mx-2 space-y-3",children:[(0,s.jsx)("label",{className:"font-medium text-gray-500 text-md",htmlFor:"userName",children:"password"}),(0,s.jsx)("input",f({type:"password"},r("password",{required:!0}),{className:"w-full px-3 py-3 text-sm leading-none text-gray-800 placeholder-gray-500 bg-white border\n              border-gray-200 rounded focus:ring-2 focus:ring-gray-400 focus:outline-none dark:bg-gray-900 dark:border-gray-700 \n                ".concat(h.password?"ring-2 ring-red-400":null),placeholder:"password"})),h.password&&(0,s.jsx)("p",{className:"text-sm text-red-400",children:"This field is required"})]}),b?(0,s.jsxs)("button",{class:"flex items-center w-full rounded-lg text-center justify-center text-2xl bg-green-700 px-4 py-2 text-white",disabled:!0,children:[(0,s.jsxs)("svg",{class:"mr-3 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,s.jsx)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{class:"font-medium",children:" Processing... "})]}):(0,s.jsxs)("button",{className:"w-full px-10 py-2 text-2xl text-white duration-300 ease-in bg-blue-600 rounded-md hover:bg-blue-500 hover:drop-shadow-md",type:"submit",children:[b&&(0,s.jsx)("span",{className:"loading",children:"loafing"}),"Login"]})]})]})]})}},2679:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(5893),n=r(1664),a=r(2010),l=r(2173),i=r(5530),o=r(1672),c=r(5675);function d(){var e=(0,a.F)(),t=e.theme,r=e.setTheme;return(0,s.jsx)("div",{className:"sticky top-0 z-30 overflow-hidden text-gray-700 shadow-md dark:text-gray-100 ",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between p-2 px-2 text-center shadow-lg md:p-4 md:px-24 ",children:[(0,s.jsx)(n.default,{href:"/",children:(0,s.jsx)(c.default,{src:o.Z,alt:"logo",width:190,height:36,className:"cursor-pointer"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:["dark"===t?(0,s.jsx)(l.Z,{onClick:function(){return r("light")},className:"cursor-pointer w-7"}):(0,s.jsx)(i.Z,{onClick:function(){return r("dark")},className:"cursor-pointer w-7"}),(0,s.jsx)(n.default,{href:"/login",children:(0,s.jsx)("button",{type:"button",className:"px-5 py-2 text-sm font-medium text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:"login"})})]})]})})}},8686:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var s=r(5893),n=r(2679),a=r(1686);r(1894);function l(){return(0,s.jsxs)("div",{className:"dark:bg-gray-800",children:[(0,s.jsx)(n.default,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between w-full max-w-5xl mx-auto bg-white md:p-1 md:px-7 mt-14 md:mt-20 dark:bg-gray-800 rounded-xl md:h-auto md:drop-shadow-xl md:space-x-14",children:[(0,s.jsx)("div",{className:"bg-gray-500 hidden md:inline-block w-1/2 h-[80vh]"}),(0,s.jsx)(a.default,{})]})]})}}},function(e){e.O(0,[536,669,774,888,179],(function(){return t=4917,e(e.s=t);var t}));var t=e.O();_N_E=t}]);