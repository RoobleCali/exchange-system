(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4917:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(8686)}])},661:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var a=t(5893),n=t(5675),s=t(7536),l={src:"/_next/static/media/onlyLogo.7b59a264.png",height:97,width:97,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAt0lEQVR42mPgMXzGyWP0QhSIRYBYiMfolQwDEPAYv9XmMX7fxwAkzgHxViDeAsQHgbifx+i1JpD+DsS7GIAqD3KobWbhMXrJCtH5Rh4o8R+IVzNABZYCjY0HClwE6tQF0n94jd+vYQACmIId3Pr3BIESV6A6ZwMVuPMaf4iGKdiKUPwOLMhr8qECiEtggneAOJHH5EMcUHcQEAcC8V6gCdkQBUYva4G4H4onAXEfGBu/UWVgYGAAAPuRVeTPCOFFAAAAAElFTkSuQmCC"},d=t(7041),i=t(9669),o=t.n(i),c=(0,t(1876).createSlice)({name:"user",initialState:{user:[],pending:!1,error:!1,loggedIn:!1},reducers:{updateStart:function(e){e.pending=!0},addUserStart:function(e){e.pending=!0},addUserEnd:function(e,r){e.pending=!1,e.user=r.payload,e.loggedIn=!0},addUserFail:function(e){e.pending=!1,e.error=!0}}}),u=c.actions,m=(u.addUserStart,u.addUserEnd),x=(u.addUserFail,c.reducer,t(1248)),g=t(6245),f=t(1163),h=t(7294),p=t(8589);function b(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(r){b(e,r,t[r])}))}return e}var y=function(){var e=(0,x.I0)(),r=(0,s.cI)(),t=r.register,i=r.handleSubmit,c=r.formState.errors,u=(0,h.useState)(!1),b=u[0],y=u[1],j=(0,h.useState)(""),v=j[0],N=j[1];return(0,h.useEffect)((function(){setTimeout((function(){N("")}),1e4)}),[v]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:" w-full md:ml-5 dark:bg-gray-800 rounded-xl h-[80vh] md:h-auto px-2 md:px-0 md:w-1/2",children:[(0,a.jsx)("div",{className:"flex justify-center items-container",children:(0,a.jsx)(n.default,{src:l,alt:""})}),(0,a.jsx)("p",{className:"mt-10 text-2xl text-center text-gray-600 dark:text-white",children:"WELCOME BACK !"}),(0,a.jsx)("p",{className:"mt-2 text-xl text-center text-gray-400 ",children:"please sign in your credentials to continue"}),v&&(0,a.jsxs)("div",{id:"alert-border-2",className:"flex p-4 mb-4 bg-red-100 border-red-500 border-t-1 dark:bg-red-200",role:"alert",children:[(0,a.jsx)("svg",{className:"flex-shrink-0 w-5 h-5 text-red-700",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{"fill-Rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-Rule":"evenodd"})}),(0,a.jsx)("div",{className:"ml-3 text-sm font-medium text-red-700",children:v}),(0,a.jsx)("button",{type:"button",className:"ml-auto -mx-1.5 -my-1.5 bg-red-100 dark:bg-red-200 text-red-500 rounded-lg focus:ring-2 focus:ring-red-400 p-1.5 hover:bg-red-200 dark:hover:bg-red-300 inline-flex h-8 w-8","data-dismiss-target":"#alert-border-2","aria-label":"Close",children:(0,a.jsx)("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{"fill-Rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-Rule":"evenodd"})})})]}),(0,a.jsxs)("form",{className:"w-full mt-5 space-y-7 ",onSubmit:i((function(r){var t=o().post("https://tick-account.herokuapp.com/api/auth/login",r);y(!0),t.then((function(r){(0,d.setCookies)("token",r.data.user.accessToken),e(m(r.data.user)),function(e){var r=(0,d.getCookie)("token");"HQ-ADMIN"!==e.userType&&"BranchAdmin"!==e.userType||f.default.replace("/wallet"),null==r&&f.default.replace("/login");var t=(0,g.Z)(r);if("HQ-ADMIN"!==e.userType&&0==t.roles.length)return alert("You are not authorized to access this page");var a=t.roles[0].path.toLowerCase();f.default.replace(a)}(r.data.user),y(!1)})).catch((function(e){y(!1);"Network Error"===e.message&&N("please check your internet connection"),e.response&&N(e.response.data.message),console.log("")}))})),children:[(0,a.jsxs)("div",{className:"flex flex-col mx-2 space-y-3",children:[(0,a.jsx)("label",{className:"font-medium text-gray-500 text-md",htmlFor:"userName",children:"userName"}),(0,a.jsx)("input",w({className:"w-full px-3 py-3 text-sm leading-none text-gray-800 placeholder-gray-500 bg-white border\n               border-gray-200 rounded focus:ring-2 focus:ring-gray-400 focus:outline-none dark:bg-gray-900 dark:border-gray-700 \n                 ".concat(c.userName?"ring-2 ring-red-400":null),placeholder:"userName"},t("userName",{required:!0}))),c.userName&&(0,a.jsx)("span",{className:"py-2 text-sm text-red-400",children:"user name is required"})]}),(0,a.jsxs)("div",{className:"flex flex-col mx-2 space-y-3",children:[(0,a.jsx)("label",{className:"font-medium text-gray-500 text-md",htmlFor:"userName",children:"password"}),(0,a.jsx)("input",w({type:"password"},t("password",{required:!0}),{className:"w-full px-3 py-3 text-sm leading-none text-gray-800 placeholder-gray-500 bg-white border\n              border-gray-200 rounded focus:ring-2 focus:ring-gray-400 focus:outline-none dark:bg-gray-900 dark:border-gray-700 \n                ".concat(c.password?"ring-2 ring-red-400":null),placeholder:"password"})),c.password&&(0,a.jsx)("p",{className:"text-sm text-red-400",children:"This field is required"})]}),b?(0,a.jsxs)("button",{className:"flex space-x-6 items-center w-full rounded-lg bg-[#FD5353] text-center justify-center text-2xl px-4 py-2 text-white",disabled:!0,children:[(0,a.jsx)(p.IU,{color:"white",size:30}),(0,a.jsx)("span",{className:"font-medium",children:" Loading... "})]}):(0,a.jsx)("button",{className:"w-full px-10 py-2 text-2xl text-white duration-300 ease-in bg-blue-600 rounded-md hover:bg-blue-500 hover:drop-shadow-md",type:"submit",children:"Login"})]})]})})}},2679:function(e,r,t){"use strict";t.r(r);var a=t(5893),n=t(1664),s=t(2010),l=t(2173),d=t(5530),i=t(1672),o=t(5675);t(7294);r.default=function(){var e=(0,s.F)(),r=e.theme,t=e.setTheme;return(0,a.jsx)("div",{className:"sticky top-0 z-30 overflow-hidden text-gray-700 shadow-md dark:text-gray-100 ",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between p-2 px-2 text-center shadow-lg md:p-4 md:px-24 ",children:[(0,a.jsx)(n.default,{href:"/",children:(0,a.jsx)(o.default,{src:i.Z,alt:"logo",width:190,height:36,className:"cursor-pointer"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:["dark"===r?(0,a.jsx)(l.Z,{onClick:function(){return t("light")},className:"cursor-pointer w-7"}):(0,a.jsx)(d.Z,{onClick:function(){return t("dark")},className:"cursor-pointer w-7"}),(0,a.jsx)(n.default,{href:"/login",children:(0,a.jsx)("button",{type:"button",className:"px-5 py-2 text-sm font-medium text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:"login"})})]})]})})}},8686:function(e,r,t){"use strict";t.r(r);var a=t(5893),n=t(2679),s=t(661);t(1248),t(7294);r.default=function(){return(0,a.jsxs)("div",{className:"dark:bg-gray-800",children:[(0,a.jsx)(n.default,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full max-w-5xl mx-auto bg-white md:p-1 md:px-7 mt-14 md:mt-20 dark:bg-gray-800 rounded-xl md:h-auto md:drop-shadow-xl md:space-x-14",children:[(0,a.jsx)("div",{className:"bg-gray-500 hidden md:inline-block w-1/2 h-[80vh]"}),(0,a.jsx)(s.default,{})]})]})}}},function(e){e.O(0,[669,774,888,179],(function(){return r=4917,e(e.s=r);var r}));var r=e.O();_N_E=r}]);